generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" // Или твоя БД, например sqlite или mysql
  url      = env("DATABASE_URL")
}

enum PlanType {
  free
  base
  pro
}

model User {
  id        String   @id @default(uuid()) // Или Int @default(autoincrement()), если не UUID
  username  String?
  firstName String? // Используем как fullName
  avatar    String?
  email     String? // Новое поле для email
  level     Int      @default(0) // Уровень 0-100
  plan      PlanType @default(free) // Используем enum для плана
  createdAt DateTime @default(now()) // Дата создания
  updatedAt DateTime @updatedAt // Автообновление

  videos Video[] // Обратная связь для реляции с Video (фиксит ошибку!)
}

model Video {
  id     String @id @default(uuid())
  userId String
  // другие поля видео... (добавь свои, если нужно, например title String?, etc.)

  user User @relation(fields: [userId], references: [id]) // Связь с User
}
